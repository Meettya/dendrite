(function(){"use strict";var i,s,t,n={};i={"10iXpi":{lodash:"Zc7rvy"}},s={Zc7rvy:function(i,s){s.exports=this._},"10iXpi":function(i,s,t){(function(){var i,n,r=function(i,s){return function(){return i.apply(s,arguments)}},e=[].slice;n=t("lodash"),s.exports=i=function(){function i(i){null==i&&(i={}),this._publishFiring=r(this._publishFiring,this),this._unsubscribeResume=r(this._unsubscribeResume,this),this._publisher=r(this._publisher,this),this._publisherEngine=r(this._publisherEngine,this),this._parseVerboseLevel=r(this._parseVerboseLevel,this),this._getNextTaskNumber=r(this._getNextTaskNumber,this),this._publishingDec=r(this._publishingDec,this),this._publishingInc=r(this._publishingInc,this),this._isPublishing=r(this._isPublishing,this),this._isInternalChannel=r(this._isInternalChannel,this),this.off=r(this.off,this),this.on=r(this.on,this),this.isTopicListened=r(this.isTopicListened,this),this.getListenedTopicsList=r(this.getListenedTopicsList,this),this.publishAsync=r(this.publishAsync,this),this.publishSync=r(this.publishSync,this),this.publish=r(this.publish,this),this.unsubscribe=r(this.unsubscribe,this),this.subscribeGuarded=r(this.subscribeGuarded,this),this.subscribe=r(this.subscribe,this),this._subscriptions_={},this._publishing_counter_=0,this._unsubscribe_queue_=[],this._tasks_counter_=0,this._tasks_dictionary_=[],this._internal_bus_name_="__DEndr1tE_-_ACtiv1tY_-_bu$__",this._observer_verbose_level_=this._parseVerboseLevel(null!=i?i.verbose:void 0)}var s,t,o,u;return s=3,u=2,t=1,o=0,i.prototype.subscribe=function(i,s,t){return null==t&&(t={}),this.subscribeGuarded(i,s,void 0,t)},i.prototype.subscribeGuarded=function(i,s,t,r){var e,o,u,l,h,c;if(null==r&&(r={}),!(n.isString(i)||n.isFunction(s)||null==t||n.isFunction(t)))throw this._subscribeErrorMessage(i,s,t,r);for(e=this._getNextTaskNumber(),this._tasks_dictionary_[e]=[s,r,t],c=this._topicsToArraySplitter(i),l=0,h=c.length;h>l;l++)o=c[l],(u=this._subscriptions_)[o]||(u[o]=[]),this._subscriptions_[o].push(e),this._isInternalChannel(o)||this.publishAsync(""+this._internal_bus_name_+".subscribe",o);return{topics:i,callback:s,watchdog:t,context:r}},i.prototype.unsubscribe=function(i,s,t){var r,e,o,u,l,h,c,p,_,a,b;if(i.topics&&(_=this._handlerParser(i,s,t),i=_[0],s=_[1],t=_[2]),t||(t={}),!n.isString(i))throw this._unsubscribeErrorMessage(i,s,t);if(this._isPublishing())return this._unsubscribe_queue_.push([i,s,t]),this;for(a=this._topicsToArraySplitter(i),l=0,c=a.length;c>l;l++){if(u=a[l],n.isFunction(s))for(b=this._subscriptions_[u],r=h=0,p=b.length;p>h;r=++h)o=b[r],(e=this._tasks_dictionary_[o])&&n.isEqual([e[0],e[1]],[s,t])&&this._subscriptions_[u].splice(r,1);else delete this._subscriptions_[u];this._isInternalChannel(u)||this.publishAsync(""+this._internal_bus_name_+".unsubscribe",u)}return this},i.prototype.publish=function(){var i,s;return s=arguments[0],i=2<=arguments.length?e.call(arguments,1):[],this._publisher("sync",s,i),this},i.prototype.publishSync=function(){var i,s;return s=arguments[0],i=2<=arguments.length?e.call(arguments,1):[],this._publisher("sync",s,i),this},i.prototype.publishAsync=function(){var i,s;return s=arguments[0],i=2<=arguments.length?e.call(arguments,1):[],this._publisher("async",s,i),this},i.prototype.getListenedTopicsList=function(){var i,s,t,n;t=this._subscriptions_,n=[];for(s in t)i=t[s],i.length&&!this._isInternalChannel(s)&&n.push(s);return n},i.prototype.isTopicListened=function(i){var s,t;if(!n.isString(i)||""===i)throw this._isTopicListenedErrorMessage(i,"isTopicListened","topic");return!!(null!=(s=this._subscriptions_)&&null!=(t=s[i])?t.length:void 0)},i.prototype.on=function(i,s){var t;if(!n.isString(i)||""===i)throw this._isTopicListenedErrorMessage(i,"on","activity type");if(!n.isFunction(s))throw TypeError("callback is not function");switch(t=i.toLowerCase()){case"subscribe":case"unsubscribe":return this.subscribe(""+this._internal_bus_name_+"."+t,function(i,t){return s(t)});default:throw Error("unknown activity type |"+i+"|")}},i.prototype.off=function(i){var s,t,r,e;if((null!=i?i.topics:void 0)?(e=this._handlerParser(i),i=e[0],s=e[1],t=e[2]):r=""+this._internal_bus_name_+"."+(null!=i?i.toLowerCase():void 0),!n.isString(i)||""===i)throw this._isTopicListenedErrorMessage(i,"off","activity type");return t||(t={}),this.unsubscribe(null!=r?r:i,s,t)},i.prototype._isInternalChannel=function(i){return 0===i.indexOf(""+this._internal_bus_name_+".")},i.prototype._isPublishing=function(){return!!this._publishing_counter_},i.prototype._publishingInc=function(){return this._publishing_counter_+=1,null},i.prototype._publishingDec=function(){if(!this._isPublishing)throw Error("Error on decrement publishing counter\n  @_publishing_counter_ is |"+this._publishing_counter_+"|");return this._publishing_counter_-=1,null},i.prototype._getNextTaskNumber=function(){return this._tasks_counter_+=1},i.prototype._parseVerboseLevel=function(i){if(null==i)return t;if(!n.isString(i))throw this._parseVerboseLevelError(i);switch(i.toUpperCase()){case"DEBUG":return s;case"SILENT":return o;case"ERROR":return t;case"WARNING":return u;default:throw Error("unknown verbose level |"+i+"|")}},i.prototype._publisherEngine=function(i){var s,t,n;if(n=this,s={sync:{publish:n._publishFiring,unsubscribe:n._unsubscribeResume},async:{publish:function(i,s,t){return setTimeout(function(){return n._publishFiring(i,s,t)},0)},unsubscribe:function(){return setTimeout(function(){return n._unsubscribeResume()},0)}}},t=s[i],null==t)throw TypeError("Error undefined publisher engine type |"+i+"|");return[t.publish,t.unsubscribe]},i.prototype._publisher=function(i,s,t){var r,e,o,u,l,h,c,p,_,a,b;if(!n.isString(s))throw this._publishErrorMessage(s,t);for(p=this._publisherEngine(i),c=p[0],b=p[1],_=this._topicsToArraySplitter(s,!1),o=0,l=_.length;l>o;o++)if(e=_[o],this._subscriptions_[e])for(a=this._subscriptions_[e],u=0,h=a.length;h>u;u++)r=a[u],this._publishingInc(),c.call(this,e,this._tasks_dictionary_[r],t);return b.call(this),null},i.prototype._topicsToArraySplitter=function(i,s){var t,n,r,e,o,u;for(null==s&&(s=!0),n={},o=i.split(" "),u=[],r=0,e=o.length;e>r;r++)t=o[r],""!==t&&(s&&n[t]||(n[t]=!0,u.push(t)));return u},i.prototype._handlerParser=function(i,s,t){var n;return s||(s=i.callback),t||(t=i.context),n=i.topics,[n,s,t]},i.prototype._unsubscribeResume=function(){var i,t;if(this._unsubscribe_queue_.length){if(this._isPublishing())return void(this._observer_verbose_level_>=s&&"undefined"!=typeof console&&null!==console&&console.log("still publishing"));for(;i="function"==typeof(t=this._unsubscribe_queue_).shift?t.shift():void 0;)this._observer_verbose_level_>=s&&"undefined"!=typeof console&&null!==console&&console.log("retry unsubscribe "+i),this.unsubscribe.apply(this,i);return null}},i.prototype._publishFiring=function(i,s,n){var r,e;try{s[0].apply(s[1],[i].concat(n))}catch(o){r=o,null!=(e=s[2])&&e.call(s[1],r,{topic:i,callback:s[0],object:s[1],data:n}),this._observer_verbose_level_>=t&&"undefined"!=typeof console&&null!==console&&console.error("Error on call callback we got exception:\n  topic     = |"+i+"|\n  callback  = |"+s[0]+"|\n  watchdog  = |"+s[2]+"|\n  object    = |"+s[1]+"|\n  data      = |"+(null!=n?n.join(", "):void 0)+"|\n  error     = |"+r+"|")}finally{this._publishingDec()}return null},i.prototype._isTopicListenedErrorMessage=function(i,s,t){return new TypeError("Error on call |"+s+"| used non-string, or empty string as "+t+":\n  "+t+"  = |"+i+"|")},i.prototype._publishErrorMessage=function(i,s){return new TypeError("Error on call |publish| used non-string topics:\n  topics  = |"+i+"|\n  data    = |"+(null!=s?s.join(", "):void 0)+"|")},i.prototype._unsubscribeErrorMessage=function(i,s,t){return new TypeError("Error on call |unsubscribe| used non-string topics:\n  topics    = |"+i+"|\n  callback  = |"+s+"|\n  context   = |"+t+"|")},i.prototype._subscribeErrorMessage=function(i,s,t,n){return new TypeError("Error! on call |subscribe| used non-string topics OR/AND callback isn`t function OR/AND watchdog defined but isn`t function:\n  topics    = |"+i+"|\n  callback  = |"+s+"|\n  watchdog  = |"+t+"|\n  context   = |"+n+"|")},i.prototype._parseVerboseLevelError=function(i){return new TypeError("Error on parsing verbose level - not a String |"+i+"|")},i}()}).call(this)}};var r=function(i){var s,t;return s=function(i){return function(s,t){if(null==i[s])throw Error("no dependencies list for parent |"+s+"|");if(null==i[s][t])throw Error("no one module resolved, name - |"+t+"|, parent - |"+s+"|");return i[s][t]}},t=function(i,s,t){var n,r,e=this;return n=function(n,e){var o,u;if(!((o=i[n])||(u=s(e,n),o=i[u])))throw Error("can`t find module source code: original_name - |"+n+"|, resolved_name - |"+u+"|");return u=null!=u?u:n,null!=t?null!=t[u]?t[u]:t[u]=r(o,u):r(o,u)},r=function(i,s){var t,r,o;return i.call(e,t={},r={},function(i){return n(i,s)}),null!=(o=r.exports)?o:t},n},i.require_builder=function(i,n,r){return t.call(this,n,s(i),r)},i}({});t=r.require_builder.call(this,i,s,n),this.Dendrite=t("10iXpi")}).call(this);