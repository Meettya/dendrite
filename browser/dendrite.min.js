(function(){"use strict";var s,i,t,n,r=this;i=function(i,t){if(null==s[i])throw Error("no dependencies list for parent |"+i+"|");if(null==s[i][t])throw Error("no one module resolved, name - |"+t+"|, parent - |"+i+"|");return s[i][t]},t=function(s,e){var o,u,h,l,c;if(!((h=n[s])||(l=i(e,s),h=n[l])))throw Error("can`t find module source code: original_name - |"+s+"|, resolved_name - |"+l+"|");return h.call(r,o={},u={},function(i){return t(i,null!=l?l:s)}),null!=(c=u.exports)?c:o},s={770618140:{lodash:1154215551}},n={770618140:function(s,i,t){(function(){var s,n,r=function(s,i){return function(){return s.apply(i,arguments)}},e=[].slice;n=t("lodash"),i.exports=s=function(){function s(s){null==s&&(s={}),this._publishFiring=r(this._publishFiring,this),this._unsubscribeResume=r(this._unsubscribeResume,this),this._publisher=r(this._publisher,this),this._publisherEngine=r(this._publisherEngine,this),this._parseVerboseLevel=r(this._parseVerboseLevel,this),this._getNextTaskNumber=r(this._getNextTaskNumber,this),this._publishingDec=r(this._publishingDec,this),this._publishingInc=r(this._publishingInc,this),this._isPublishing=r(this._isPublishing,this),this._isInternalChannel=r(this._isInternalChannel,this),this.off=r(this.off,this),this.on=r(this.on,this),this.isTopicListened=r(this.isTopicListened,this),this.getListenedTopicsList=r(this.getListenedTopicsList,this),this.publishAsync=r(this.publishAsync,this),this.publishSync=r(this.publishSync,this),this.publish=r(this.publish,this),this.unsubscribe=r(this.unsubscribe,this),this.subscribeGuarded=r(this.subscribeGuarded,this),this.subscribe=r(this.subscribe,this),this._subscriptions_={},this._publishing_counter_=0,this._unsubscribe_queue_=[],this._tasks_counter_=0,this._tasks_dictionary_=[],this._internal_bus_name_="__DEndr1tE_-_ACtiv1tY_-_bu$__",this._observer_verbose_level_=this._parseVerboseLevel(null!=s?s.verbose:void 0)}var i,t,o,u;return i=3,u=2,t=1,o=0,s.prototype.subscribe=function(s,i,t){return null==t&&(t={}),this.subscribeGuarded(s,i,void 0,t)},s.prototype.subscribeGuarded=function(s,i,t,r){var e,o,u,h,l,c;if(null==r&&(r={}),!(n.isString(s)||n.isFunction(i)||null==t||n.isFunction(t)))throw this._subscribeErrorMessage(s,i,t,r);for(e=this._getNextTaskNumber(),this._tasks_dictionary_[e]=[i,r,t],c=this._topicsToArraySplitter(s),h=0,l=c.length;l>h;h++)o=c[h],(u=this._subscriptions_)[o]||(u[o]=[]),this._subscriptions_[o].push(e),this._isInternalChannel(o)||this.publishAsync(""+this._internal_bus_name_+".subscribe",o);return{topics:s,callback:i,watchdog:t,context:r}},s.prototype.unsubscribe=function(s,i,t){var r,e,o,u,h,l,c,p,_,b,a;if(s.topics&&(_=this._handlerParser(s,i,t),s=_[0],i=_[1],t=_[2]),t||(t={}),!n.isString(s))throw this._unsubscribeErrorMessage(s,i,t);if(this._isPublishing())return this._unsubscribe_queue_.push([s,i,t]),this;for(b=this._topicsToArraySplitter(s),h=0,c=b.length;c>h;h++){if(u=b[h],n.isFunction(i))for(a=this._subscriptions_[u],r=l=0,p=a.length;p>l;r=++l)o=a[r],(e=this._tasks_dictionary_[o])&&n.isEqual([e[0],e[1]],[i,t])&&this._subscriptions_[u].splice(r,1);else delete this._subscriptions_[u];this._isInternalChannel(u)||this.publishAsync(""+this._internal_bus_name_+".unsubscribe",u)}return this},s.prototype.publish=function(){var s,i;return i=arguments[0],s=2<=arguments.length?e.call(arguments,1):[],this._publisher("sync",i,s),this},s.prototype.publishSync=function(){var s,i;return i=arguments[0],s=2<=arguments.length?e.call(arguments,1):[],this._publisher("sync",i,s),this},s.prototype.publishAsync=function(){var s,i;return i=arguments[0],s=2<=arguments.length?e.call(arguments,1):[],this._publisher("async",i,s),this},s.prototype.getListenedTopicsList=function(){var s,i,t,n;t=this._subscriptions_,n=[];for(i in t)s=t[i],s.length&&!this._isInternalChannel(i)&&n.push(i);return n},s.prototype.isTopicListened=function(s){var i,t;if(!n.isString(s)||""===s)throw this._isTopicListenedErrorMessage(s,"isTopicListened","topic");return!!(null!=(i=this._subscriptions_)&&null!=(t=i[s])?t.length:void 0)},s.prototype.on=function(s,i){var t;if(!n.isString(s)||""===s)throw this._isTopicListenedErrorMessage(s,"on","activity type");if(!n.isFunction(i))throw TypeError("callback is not function");switch(t=s.toLowerCase()){case"subscribe":case"unsubscribe":return this.subscribe(""+this._internal_bus_name_+"."+t,function(s,t){return i(t)});default:throw Error("unknown activity type |"+s+"|")}},s.prototype.off=function(s){var i,t,r,e;if((null!=s?s.topics:void 0)?(e=this._handlerParser(s),s=e[0],i=e[1],t=e[2]):r=""+this._internal_bus_name_+"."+(null!=s?s.toLowerCase():void 0),!n.isString(s)||""===s)throw this._isTopicListenedErrorMessage(s,"off","activity type");return t||(t={}),this.unsubscribe(null!=r?r:s,i,t)},s.prototype._isInternalChannel=function(s){return 0===s.indexOf(""+this._internal_bus_name_+".")},s.prototype._isPublishing=function(){return!!this._publishing_counter_},s.prototype._publishingInc=function(){return this._publishing_counter_+=1,null},s.prototype._publishingDec=function(){if(!this._isPublishing)throw Error("Error on decrement publishing counter\n  @_publishing_counter_ is |"+this._publishing_counter_+"|");return this._publishing_counter_-=1,null},s.prototype._getNextTaskNumber=function(){return this._tasks_counter_+=1},s.prototype._parseVerboseLevel=function(s){if(null==s)return t;if(!n.isString(s))throw this._parseVerboseLevelError(s);switch(s.toUpperCase()){case"DEBUG":return i;case"SILENT":return o;case"ERROR":return t;case"WARNING":return u;default:throw Error("unknown verbose level |"+s+"|")}},s.prototype._publisherEngine=function(s){var i,t,n;if(n=this,i={sync:{publish:n._publishFiring,unsubscribe:n._unsubscribeResume},async:{publish:function(s,i,t){return setTimeout(function(){return n._publishFiring(s,i,t)},0)},unsubscribe:function(){return setTimeout(function(){return n._unsubscribeResume()},0)}}},t=i[s],null==t)throw TypeError("Error undefined publisher engine type |"+s+"|");return[t.publish,t.unsubscribe]},s.prototype._publisher=function(s,i,t){var r,e,o,u,h,l,c,p,_,b,a;if(!n.isString(i))throw this._publishErrorMessage(i,t);for(p=this._publisherEngine(s),c=p[0],a=p[1],_=this._topicsToArraySplitter(i,!1),o=0,h=_.length;h>o;o++)if(e=_[o],this._subscriptions_[e])for(b=this._subscriptions_[e],u=0,l=b.length;l>u;u++)r=b[u],this._publishingInc(),c.call(this,e,this._tasks_dictionary_[r],t);return a.call(this),null},s.prototype._topicsToArraySplitter=function(s,i){var t,n,r,e,o,u;for(null==i&&(i=!0),n={},o=s.split(" "),u=[],r=0,e=o.length;e>r;r++)t=o[r],""!==t&&(i&&n[t]||(n[t]=!0,u.push(t)));return u},s.prototype._handlerParser=function(s,i,t){var n;return i||(i=s.callback),t||(t=s.context),n=s.topics,[n,i,t]},s.prototype._unsubscribeResume=function(){var s,t;if(this._unsubscribe_queue_.length){if(this._isPublishing())return void(this._observer_verbose_level_>=i&&"undefined"!=typeof console&&null!==console&&console.log("still publishing"));for(;s="function"==typeof(t=this._unsubscribe_queue_).shift?t.shift():void 0;)this._observer_verbose_level_>=i&&"undefined"!=typeof console&&null!==console&&console.log("retry unsubscribe "+s),this.unsubscribe.apply(this,s);return null}},s.prototype._publishFiring=function(s,i,n){var r,e;try{i[0].apply(i[1],[s].concat(n))}catch(o){r=o,null!=(e=i[2])&&e.call(i[1],r,{topic:s,callback:i[0],object:i[1],data:n}),this._observer_verbose_level_>=t&&"undefined"!=typeof console&&null!==console&&console.error("Error on call callback we got exception:\n  topic     = |"+s+"|\n  callback  = |"+i[0]+"|\n  watchdog  = |"+i[2]+"|\n  object    = |"+i[1]+"|\n  data      = |"+(null!=n?n.join(", "):void 0)+"|\n  error     = |"+r+"|")}finally{this._publishingDec()}return null},s.prototype._isTopicListenedErrorMessage=function(s,i,t){return new TypeError("Error on call |"+i+"| used non-string, or empty string as "+t+":\n  "+t+"  = |"+s+"|")},s.prototype._publishErrorMessage=function(s,i){return new TypeError("Error on call |publish| used non-string topics:\n  topics  = |"+s+"|\n  data    = |"+(null!=i?i.join(", "):void 0)+"|")},s.prototype._unsubscribeErrorMessage=function(s,i,t){return new TypeError("Error on call |unsubscribe| used non-string topics:\n  topics    = |"+s+"|\n  callback  = |"+i+"|\n  context   = |"+t+"|")},s.prototype._subscribeErrorMessage=function(s,i,t,n){return new TypeError("Error! on call |subscribe| used non-string topics OR/AND callback isn`t function OR/AND watchdog defined but isn`t function:\n  topics    = |"+s+"|\n  callback  = |"+i+"|\n  watchdog  = |"+t+"|\n  context   = |"+n+"|")},s.prototype._parseVerboseLevelError=function(s){return new TypeError("Error on parsing verbose level - not a String |"+s+"|")},s}()}).call(this)},1154215551:function(s,i){i.exports=this._}},this.Dendrite=t(770618140)}).call(this);